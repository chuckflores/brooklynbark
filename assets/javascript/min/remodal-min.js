!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function($){return n(t,$)}):"object"==typeof exports?n(t,require("jquery")):n(t,t.jQuery||t.Zepto)}(this,function(t,$){"use strict";function n(t){if(O&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name")&&"none"===t.css("-moz-animation-name")&&"none"===t.css("-o-animation-name")&&"none"===t.css("-ms-animation-name"))return 0;var n=t.css("animation-duration")||t.css("-webkit-animation-duration")||t.css("-moz-animation-duration")||t.css("-o-animation-duration")||t.css("-ms-animation-duration")||"0s",e=t.css("animation-delay")||t.css("-webkit-animation-delay")||t.css("-moz-animation-delay")||t.css("-o-animation-delay")||t.css("-ms-animation-delay")||"0s",a=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||t.css("-moz-animation-iteration-count")||t.css("-o-animation-iteration-count")||t.css("-ms-animation-iteration-count")||"1",i,o,s,r;for(n=n.split(", "),e=e.split(", "),a=a.split(", "),r=0,o=n.length,i=Number.NEGATIVE_INFINITY;r<o;r++)s=parseFloat(n[r])*parseInt(a[r],10)+parseFloat(e[r]),s>i&&(i=s);return i}function e(){if($(document.body).height()<=$(window).height())return 0;var t=document.createElement("div"),n=document.createElement("div"),e,a;return t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t),e=t.offsetWidth,t.style.overflow="scroll",n.style.width="100%",t.appendChild(n),a=n.offsetWidth,t.parentNode.removeChild(t),e-a}function a(){if(!y){var t=$("html"),n=l("is-locked"),a,i;t.hasClass(n)||(i=$(document.body),a=parseInt(i.css("padding-right"),10)+e(),i.css("padding-right",a+"px"),t.addClass(n))}}function i(){if(!y){var t=$("html"),n=l("is-locked"),a,i;t.hasClass(n)&&(i=$(document.body),a=parseInt(i.css("padding-right"),10)-e(),i.css("padding-right",a+"px"),t.removeClass(n))}}function o(t,n,e,a){var i=l("is",n),o=[l("is",v.CLOSING),l("is",v.OPENING),l("is",v.CLOSED),l("is",v.OPENED)].join(" ");t.$bg.removeClass(o).addClass(i),t.$overlay.removeClass(o).addClass(i),t.$wrapper.removeClass(o).addClass(i),t.$modal.removeClass(o).addClass(i),t.state=n,!e&&t.$modal.trigger({type:n,reason:a},[{reason:a}])}function s(t,e,a){var i=0,o=function(t){t.target===this&&i++},s=function(t){t.target===this&&0===--i&&($.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){a[n].off(f+" "+g)}),e())};$.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){a[n].on(f,o).on(g,s)}),t(),0===n(a.$bg)&&0===n(a.$overlay)&&0===n(a.$wrapper)&&0===n(a.$modal)&&($.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){a[n].off(f+" "+g)}),e())}function r(t){t.state!==v.CLOSED&&($.each(["$bg","$overlay","$wrapper","$modal"],function(n,e){t[e].off(f+" "+g)}),t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),i(),o(t,v.CLOSED,!0))}function d(t){var n={},e,a,i,o;for(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),e=t.split(","),o=0,a=e.length;o<a;o++)e[o]=e[o].split(":"),i=e[o][1],("string"==typeof i||i instanceof String)&&(i="true"===i||"false"!==i&&i),("string"==typeof i||i instanceof String)&&(i=isNaN(i)?i:+i),n[e[o][0]]=i;return n}function l(){for(var t=u,n=0;n<arguments.length;++n)t+="-"+arguments[n];return t}function c(){var t=location.hash.replace("#",""),n,e;if(t){try{e=$('[data-remodal-id="'+t+'"]')}catch(t){}e&&e.length&&(n=$[p].lookup[e.data(p)],n&&n.settings.hashTracking&&n.open())}else E&&E.state===v.OPENED&&E.settings.hashTracking&&E.close()}function m(t,n){var e=$(document.body),a=e,i=this;i.settings=$.extend({},h,n),i.index=$[p].lookup.push(i)-1,i.state=v.CLOSED,i.$overlay=$("."+l("overlay")),null!==i.settings.appendTo&&i.settings.appendTo.length&&(a=$(i.settings.appendTo)),i.$overlay.length||(i.$overlay=$("<div>").addClass(l("overlay")+" "+l("is",v.CLOSED)).hide(),a.append(i.$overlay)),i.$bg=$("."+l("bg")).addClass(l("is",v.CLOSED)),i.$modal=t.addClass(u+" "+l("is-initialized")+" "+i.settings.modifier+" "+l("is",v.CLOSED)).attr("tabindex","-1"),i.$wrapper=$("<div>").addClass(l("wrapper")+" "+i.settings.modifier+" "+l("is",v.CLOSED)).hide().append(i.$modal),a.append(i.$wrapper),i.$wrapper.on("click."+u,'[data-remodal-action="close"]',function(t){t.preventDefault(),i.close()}),i.$wrapper.on("click."+u,'[data-remodal-action="cancel"]',function(t){t.preventDefault(),i.$modal.trigger(C.CANCELLATION),i.settings.closeOnCancel&&i.close(C.CANCELLATION)}),i.$wrapper.on("click."+u,'[data-remodal-action="confirm"]',function(t){t.preventDefault(),i.$modal.trigger(C.CONFIRMATION),i.settings.closeOnConfirm&&i.close(C.CONFIRMATION)}),i.$wrapper.on("click."+u,function(t){var n=$(t.target);n.hasClass(l("wrapper"))&&i.settings.closeOnOutsideClick&&i.close()})}var p="remodal",u=t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.NAMESPACE||p,f=$.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(t){return t+"."+u}).join(" "),g=$.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(t){return t+"."+u}).join(" "),h=$.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.DEFAULTS),v={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},C={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},O=function(){var t=document.createElement("div").style;return void 0!==t.animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName}(),y=/iPad|iPhone|iPod/.test(navigator.platform),E,N;m.prototype.open=function(){var t=this,n;t.state!==v.OPENING&&t.state!==v.CLOSING&&(n=t.$modal.attr("data-remodal-id"),n&&t.settings.hashTracking&&(N=$(window).scrollTop(),location.hash=n),E&&E!==t&&r(E),E=t,a(),t.$bg.addClass(t.settings.modifier),t.$overlay.addClass(t.settings.modifier).show(),t.$wrapper.show().scrollTop(0),t.$modal.focus(),s(function(){o(t,v.OPENING)},function(){o(t,v.OPENED)},t))},m.prototype.close=function(t){var n=this;n.state!==v.OPENING&&n.state!==v.CLOSING&&(n.settings.hashTracking&&n.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",$(window).scrollTop(N)),s(function(){o(n,v.CLOSING,!1,t)},function(){n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),i(),o(n,v.CLOSED,!1,t)},n))},m.prototype.getState=function(){return this.state},m.prototype.destroy=function(){var t=$[p].lookup,n;r(this),this.$wrapper.remove(),delete t[this.index],n=$.grep(t,function(t){return!!t}).length,0===n&&(this.$overlay.remove(),this.$bg.removeClass(l("is",v.CLOSING)+" "+l("is",v.OPENING)+" "+l("is",v.CLOSED)+" "+l("is",v.OPENED)))},$[p]={lookup:[]},$.fn[p]=function(t){var n,e;return this.each(function(a,i){e=$(i),null==e.data(p)?(n=new m(e,t),e.data(p,n.index),n.settings.hashTracking&&e.attr("data-remodal-id")===location.hash.substr(1)&&n.open()):n=$[p].lookup[e.data(p)]}),n},$(document).ready(function(){$(document).on("click","[data-remodal-target]",function(t){t.preventDefault();var n=t.currentTarget,e=n.getAttribute("data-remodal-target"),a=$('[data-remodal-id="'+e+'"]');$[p].lookup[a.data(p)].open()}),$(document).find("."+u).each(function(t,n){var e=$(n),a=e.data("remodal-options");a?("string"==typeof a||a instanceof String)&&(a=d(a)):a={},e[p](a)}),$(document).on("keydown."+u,function(t){E&&E.settings.closeOnEscape&&E.state===v.OPENED&&27===t.keyCode&&E.close()}),$(window).on("hashchange."+u,c)})});